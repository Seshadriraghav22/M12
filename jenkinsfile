pipeline {
    agent any

    stages {
        stage('git') {
            steps {
               git branch: 'war', url: 'https://github.com/Seshadriraghav22/M12.git'
            }
        }
        stage('build') {
            steps {
				sh 'mvn clean'
				sh 'mvn install'

            }
        }
        stage('Docker Image') {
            steps {
				script{
					 sh ' docker build -t app . '
					}
				}

            }
        }
      
									}
        stage('Deploy to server') {
            steps {
				
			script{										
			         sh ' docker run -d -p 8080:8080 app'
                               }
                  }
      }
									
    }
}

